(function(t){function o(o){for(var a,i,s=o[0],c=o[1],l=o[2],u=0,v=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(o);while(v.length)v.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,o=0;o<n.length;o++){for(var e=n[o],a=!0,s=1;s<e.length;s++){var c=e[s];0!==r[c]&&(a=!1)}a&&(n.splice(o--,1),t=i(i.s=e[0]))}return t}var a={},r={app:0},n=[];function i(o){if(a[o])return a[o].exports;var e=a[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=a,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var a in t)i.d(e,a,function(o){return t[o]}.bind(null,a));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=o,s=s.slice();for(var l=0;l<s.length;l++)o(s[l]);var d=c;n.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"034f":function(t,o,e){"use strict";e("85ec")},"3f4c":function(t,o,e){},"56d7":function(t,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-app",[e("Header"),e("v-main",[e("v-container",[e("router-view",{attrs:{books:t.books},on:{"add-book-list":t.addBook,"update-book-info":t.updateBookInfo,"delete-local-storage":t.deleteLocalStorage,"delete-book-info":t.deleteBookInfo}})],1)],1),e("div",{class:{fadeIn:t.visible}},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"Page-Btn",on:{click:t.returnTop}},[e("v-icon",[t._v("mdi-arrow-up")])],1)]),e("Footer")],1)},n=[],i=(e("a4d3"),e("e01a"),e("fb6a"),e("a434"),function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-footer",{attrs:{height:"50px",color:"#e3e3fc",dark:""}},[e("v-row",{staticClass:"font-weight-medium text-center"},[e("v-col",{attrs:{cols:"4"}},[e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"https://y-ooshima.github.io/profile/"}},[e("v-icon",{attrs:{color:"info"}},[t._v("mdi-home")]),t._v(" home")],1)]),e("v-col",{attrs:{cols:"4"}},[e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"mailto:gozira.1kawa@gmail.com"}},[e("v-icon",{attrs:{color:"info"}},[t._v("mdi-send")]),t._v(" e-mail")],1)]),e("v-col",{attrs:{cols:"4"}},[e("a",{staticStyle:{"text-decoration":"none"},attrs:{href:"https://twitter.com/WUsoh78YP4jevf1"}},[e("v-icon",{attrs:{color:"info"}},[t._v("mdi-twitter")]),t._v(" twitter")],1)])],1)],1)}),s=[],c={name:"Footer"},l=c,d=e("2877"),u=e("6544"),v=e.n(u),f=e("62ad"),m=e("553a"),p=e("132d"),b=e("0fd9"),h=Object(d["a"])(l,i,s,!1,null,null,null),k=h.exports;v()(h,{VCol:f["a"],VFooter:m["a"],VIcon:p["a"],VRow:b["a"]});var g=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",[a("v-app-bar",{attrs:{absolute:"",color:"#6A76AB",dark:"","shrink-on-scroll":"",prominent:"",src:e("8c59"),"fade-img-on-scroll":"","scroll-target":"#scrolling-techniques-3"},scopedSlots:t._u([{key:"img",fn:function(o){var e=o.props;return[a("v-img",t._b({attrs:{gradient:"to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)"}},"v-img",e,!1))]}},{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":""}},[a("v-tab",{attrs:{color:"secondary",to:"/"}},[t._v("検索")]),a("v-tab",{attrs:{color:"secondary",to:"/view"}},[t._v("表示")])],1)]},proxy:!0}])},[a("v-app-bar-title",[a("div",{staticClass:"title"},[a("h2",[t._v("Memories Book")]),a("p",[t._v("~読んだ本を思い出に残そう~")])])])],1),a("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-3","max-height":"300px"}},[a("v-container",{staticStyle:{height:"250px"}})],1)],1)},w=[],_={name:"Header"},y=_,x=(e("6d19"),e("40dc")),V=e("bb78"),B=e("a523"),S=e("adda"),I=e("8dd9"),j=e("71a3"),C=e("fe57"),O=Object(d["a"])(y,g,w,!1,null,null,null),$=O.exports;v()(O,{VAppBar:x["a"],VAppBarTitle:V["a"],VContainer:B["a"],VImg:S["a"],VSheet:I["a"],VTab:j["a"],VTabs:C["a"]});var T="books",R={name:"App",components:{Header:$,Footer:k},data:function(){return{books:[],newBook:null,visible:!1}},created:function(){window.addEventListener("scroll",this.handleScroll)},mounted:function(){if(localStorage.getItem(T))try{this.books=JSON.parse(localStorage.getItem(T))}catch(t){localStorage.removeItem(T)}},methods:{addBook:function(t){for(var o=0,e=0,a=this.books.length;e<a;++e)if(this.books[e].bookid==t.bookid){o=1;break}0==o?(this.books.push({id:this.books.length,bookid:t.bookid,title:t.title,image:t.image,description:t.description,readDate:"",memo:""}),this.saveBooks(),this.goToEditPage(this.books.slice(-1)[0].id)):(o=0,window.alert("すでに登録済みです"))},removeBook:function(t){this.books.splice(t,1),this.saveBooks()},saveBooks:function(){var t=JSON.stringify(this.books);localStorage.setItem(T,t)},updateBookInfo:function(t){var o={id:t.id,readDate:t.readDate,memo:t.memo,title:this.books[t.id].title,image:this.books[t.id].image,description:this.books[t.id].description};this.books.splice(t.id,1,o),this.saveBooks(),this.$router.push("/view")},deleteBookInfo:function(t){var o=t.id;this.books.splice(o,1),this.saveBooks(),this.$router.push("/view")},goToEditPage:function(t){this.$router.push("/edit/".concat(t))},deleteLocalStorage:function(){var t="localStorageのデータを削除してもいいですか？";window.confirm(t)&&(localStorage.setItem(T,""),localStorage.removeItem(T),this.books=[],window.location.reload())},returnTop:function(){window.scrollTo({top:0,behavior:"smooth"})},handleScroll:function(){window.scrollY>200?this.visible=!0:this.visible=!1}}},E=R,P=(e("034f"),e("7496")),A=e("f6c4"),D=Object(d["a"])(E,r,n,!1,null,null,null),L=D.exports;v()(D,{VApp:P["a"],VContainer:B["a"],VIcon:p["a"],VMain:A["a"]});var M=e("8c4f"),F=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("v-row",t._l(t.books,(function(o){return e("v-col",{key:o.id,attrs:{cols:"12",sm:"6"}},[e("v-card",[e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("v-img",{attrs:{src:o.image}})],1),e("v-col",{attrs:{cols:"8"}},[e("v-card-title",[t._v(t._s(o.title))]),t._v(" 読んだ日："+t._s(o.readDate)+" 感想："+t._s(o.memo)+" "),e("v-spacer"),e("v-card-actions",[e("v-btn",{attrs:{to:{name:"BookEdit",params:{id:o.id}},color:"indigo",fab:"",small:"",dark:""}},[e("v-icon",[t._v("mdi-pencil")])],1)],1)],1)],1)],1)],1)})),1),e("v-row",[e("v-col",{attrs:{cols:"3"}},[e("v-btn",{attrs:{color:"error"},on:{click:t.deleteLocalStorage}},[t._v("一括削除")])],1)],1)],1)},J=[],q={props:{books:Array},methods:{deleteLocalStorage:function(){this.$emit("delete-local-storage")}}},H=q,N=e("8336"),U=e("b0af"),Y=e("99d9"),z=e("2fa4"),W=Object(d["a"])(H,F,J,!1,null,null,null),G=W.exports;v()(W,{VBtn:N["a"],VCard:U["a"],VCardActions:Y["a"],VCardTitle:Y["b"],VCol:f["a"],VIcon:p["a"],VImg:S["a"],VRow:b["a"],VSpacer:z["a"]});var K=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-card",{staticClass:"mx-auto"},[e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("v-img",{attrs:{src:t.book.image}})],1),e("v-col",{attrs:{col:"8"}},[e("v-card-title",[t._v(" タイトル: "+t._s(t.book.title)+" ")]),t._v(" 読んだ日: "),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(o){var a=o.on,r=o.attrs;return[e("v-text-field",t._g(t._b({attrs:{readonly:""},model:{value:t.date,callback:function(o){t.date=o},expression:"date"}},"v-text-field",r,!1),a))]}}]),model:{value:t.menu,callback:function(o){t.menu=o},expression:"menu"}},[e("v-date-picker",{attrs:{locale:"jp-ja","day-format":function(t){return new Date(t).getDate()}},on:{input:function(o){t.menu=!1}},model:{value:t.date,callback:function(o){t.date=o},expression:"date"}})],1),t._v(" 感想: "),e("v-textarea",{staticClass:"mx-2",model:{value:t.book.memo,callback:function(o){t.$set(t.book,"memo",o)},expression:"book.memo"}},[t._v(" "+t._s(t.book.memo)+" ")]),e("v-card-actions",[e("v-btn",{attrs:{color:"secondary",to:"/"}},[t._v("検索画面へ")]),e("v-btn",{attrs:{color:"info"},on:{click:t.updateBookInfo}},[t._v("保存する")]),e("v-btn",{attrs:{color:"error"},on:{click:t.deleteBookInfo}},[t._v("削除する")])],1)],1)],1)],1)],1)],1)],1)},Q=[],X={name:"BookEdit",props:{books:Array},data:function(){return{book:"",date:"",menu:!1}},methods:{updateBookInfo:function(){this.$emit("update-book-info",{id:this.$route.params.id,readDate:this.date,memo:this.book.memo})},deleteBookInfo:function(){this.$emit("delete-book-info",{id:this.$route.params.id})}},beforeRouteEnter:function(t,o,e){e((function(t){t.$nextTick((function(){t.book=t.books[t.$route.params.id],t.book.readDate?t.date=t.book.readDate:t.date=(new Date).toISOString().substr(0,10)}))}))}},Z=X,tt=e("2e4b"),ot=e("e449"),et=e("8654"),at=e("a844"),rt=Object(d["a"])(Z,K,Q,!1,null,null,null),nt=rt.exports;v()(rt,{VBtn:N["a"],VCard:U["a"],VCardActions:Y["a"],VCardTitle:Y["b"],VCol:f["a"],VDatePicker:tt["a"],VImg:S["a"],VMenu:ot["a"],VRow:b["a"],VTextField:et["a"],VTextarea:at["a"]});var it=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("v-row",[e("v-col",{attrs:{cols:"9"}},[e("v-text-field",{attrs:{label:"本のタイトルを検索"},model:{value:t.keyword,callback:function(o){t.keyword=o},expression:"keyword"}})],1),e("v-col",{staticStyle:{"padding-top":"20px"},attrs:{cols:"3"}},[e("v-btn",{attrs:{color:"primary"},on:{click:function(o){return t.search(t.keyword)}}},[e("v-icon",[t._v("mdi-magnify")])],1)],1)],1),e("v-row",t._l(t.searchResults,(function(o,a){return e("v-col",{key:o.index,attrs:{cols:"12",md:"6"}},[e("v-card",{staticClass:"mx-auto"},[e("v-row",[e("v-col",{attrs:{cols:"4"}},[e("v-img",{attrs:{src:o.image}})],1),e("v-col",{attrs:{cols:"8"}},[e("v-card-title",[t._v(t._s(o.title))]),t._v(" "+t._s(o.description)+" "),e("v-spacer"),e("v-card-actions",[e("v-btn",{attrs:{fab:"",dark:"",color:"indigo"},on:{click:function(o){return t.addBookList(a)}}},[e("v-icon",{attrs:{dark:""}},[t._v(" mdi-plus ")])],1)],1)],1)],1)],1)],1)})),1)],1)},st=[],ct=e("b85c"),lt=e("1da1"),dt=(e("96cf"),e("2b3d"),e("d3b7"),e("3ca3"),e("ddb0"),{name:"BookIndex",data:function(){return{keyword:"",searchResults:[]}},methods:{addBookList:function(t){this.$emit("add-book-list",this.searchResults[t])},search:function(t){var o=this;return Object(lt["a"])(regeneratorRuntime.mark((function e(){var a,r,n,i,s,c,l,d,u,v,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.searchResults=[],a="https://www.googleapis.com/books/v1/volumes?",r={q:"intitle:".concat(t),maxResults:40},n=new URLSearchParams(r),console.log(a+n),e.next=7,fetch(a+n).then((function(t){return t.json()}));case 7:i=e.sent,s=Object(ct["a"])(i.items);try{for(s.s();!(c=s.n()).done;)l=c.value,d=l.id,u=l.volumeInfo.title,v=l.volumeInfo.imageLinks,f=l.volumeInfo.description,o.searchResults.push({bookid:d||"",title:u||"",image:v?v.thumbnail:"",description:f?f.slice(0,40):""})}catch(m){s.e(m)}finally{s.f()}case 10:case"end":return e.stop()}}),e)})))()}}}),ut=dt,vt=Object(d["a"])(ut,it,st,!1,null,null,null),ft=vt.exports;v()(vt,{VBtn:N["a"],VCard:U["a"],VCardActions:Y["a"],VCardTitle:Y["b"],VCol:f["a"],VIcon:p["a"],VImg:S["a"],VRow:b["a"],VSpacer:z["a"],VTextField:et["a"]}),a["a"].use(M["a"]);var mt=[{path:"/",name:"BookIndex",component:ft},{path:"/view",name:"BookView",component:G},{path:"/edit/:id",name:"BookEdit",component:nt},{path:"*",redirect:"/"}],pt=new M["a"]({mode:"history",base:"",routes:mt}),bt=pt,ht=e("f309");a["a"].use(ht["a"]);var kt=new ht["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:bt,vuetify:kt,render:function(t){return t(L)}}).$mount("#app")},"6d19":function(t,o,e){"use strict";e("3f4c")},"85ec":function(t,o,e){},"8c59":function(t,o,e){t.exports=e.p+"img/backImg.87001e5a.jpeg"}});
//# sourceMappingURL=app.e7ec5662.js.map